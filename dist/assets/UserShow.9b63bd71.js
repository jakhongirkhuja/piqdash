import{G as b}from"./GoBackButton.8ec57f12.js";import{_ as y,r as f,o as n,c as i,f as k,a as e,t as o,d as a,F as d,e as h,g as m}from"./index.34e73fda.js";const v={setup(){},components:{GoBackButton:b},data(){return{url:"https://api.pharmiq.uz/",user:{firstName:"",lastName:"",date:"",birthDate:"",gender:0,language:"ru",email:"",role:"",phoneNumber:""},company:{},companyAdress:{},courseLog:{},iqc:0,iqcTransction:{},groups:[],savedCourse:{},resStringError:"",region:{},city:{},resError:!1,resSuccess:!1}},computed:{changeDateFormat:function(){const c=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"];let t=new Date(this.user.birthDate);return t.getDate()+" "+c[t.getMonth()]+" "+t.getFullYear()},changeDateFormatCreated:function(){const c=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"];let t=new Date(this.user.created_at);return t.getDate()+" "+c[t.getMonth()]+" "+t.getFullYear()}},methods:{courseProggress(c,t){let l=c.user_id;return c.status?"100":(t&&t.lessons.forEach(_=>{_.specificlessonlog&&_.specificlessonlog.forEach(s=>{if(console.log(s.user_id),s.user_id==l)return"100"})}),c.totalContent!=0&&c.progress>=c.totalContent?"100":"0")},IQCServiceName(c){let t="";switch(c){case"quiz":t="Passing the test";break;case"reflink":t="My referral link";break;case"promoCode":t="PromoCode";break;case"storeProductDigital":t="Store";break;case"storeProduct":t="Store";break;case"quest":t="Quest";break;case"removed":t="Removed";break;case"course":t="Course buy";break;case"ref link":t="Ref link";break}return t},changeFormat(){const c=this.phoneNumber.replace(/\D/g,"");this.phoneNumber="+"+c.substring(0,3)+" ( "+c.substring(3,5)+" ) "+c.substring(5,8)+"-"+c.substring(8,10)+"-"+c.substring(10,12)},async requestApi(){try{const t=await(await fetch(this.url+"api/v1/admin/show/users/"+this.$route.params.id,{method:"GET",headers:{"Content-Type":"application/json",accept:"application/json"}})).json();window.scrollTo({top:0,behavior:"smooth"}),t.error?this.resStringError=t.message:(this.user=t.user,this.company=t.company,this.companyAdress=t.companyAdress,this.courseLog=t.courseLog,this.iqc=t.iqc,this.iqcTransction=t.iqcTransction,this.savedCourse=t.savedCourse,this.city=t.city,this.groups=t.groups,this.region=t.region,console.log(t))}catch(c){console.error("\u041E\u0448\u0438\u0431\u043A\u0430:",c)}}},created(){this.requestApi()}},N={class:"row mt-2"},D={class:"col-md-12"},w={class:"col-md-12"},C={key:0,class:"error"},S={key:0,class:"row"},A={class:"col-md-6 grid-margin stretch-card"},E={class:"card"},q={class:"card-body"},F={class:"card-title"},T={class:"card-description float-right"},P={key:0,style:{"font-size":"20px"}},B={key:1,class:"card-description"},M={key:2,class:"card-description role"},G=e("h4",{class:"card-title float-left"},"Registered at",-1),L={class:"card-title float-right"},J={class:"error"},R={key:4,class:"success"},U={class:"col-md-6 grid-margin stretch-card"},x={class:"card"},V={class:"card-body"},Y={class:"card-title"},I=m("Company "),O={class:"card-description h6"},Q={key:0,style:{"font-size":"20px"}},j={class:"col-md-7 grid-margin stretch-card"},z={class:"card"},H={class:"card-body"},K={class:"card-title"},W=m("IQC "),X={class:"card-description h3"},Z=e("p",{class:"card-title"},"History",-1),$={class:"table"},ee=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"Get"),e("th",{scope:"col"},"For"),e("th",{scope:"col"},"Time")])],-1),se={key:0},te={scope:"row"},re={class:"col-md-5 grid-margin stretch-card"},oe={class:"card"},ce={class:"card-body"},ne={class:"card-title"},ie=m("Groups "),ae={class:"card-description h3"},de={class:"col-md-12 grid-margin stretch-card"},le={class:"card"},ue={class:"card-body"},he={class:"card-title"},_e={class:"table",style:{width:"100%"}},pe=e("thead",{class:"thead-dark"},[e("tr",null,[e("th",{scope:"col"},"Course Name"),e("th",{scope:"col"},"Time Passed"),e("th",{scope:"col"},"Passed")])],-1),me={key:0},ge={scope:"row"};function be(c,t,l,_,s,u){const g=f("GoBackButton");return n(),i(d,null,[k(g),e("div",null,[e("div",N,[e("div",D,[e("div",w,[s.resStringError?(n(),i("p",C,o(s.resStringError),1)):a("",!0)])])]),s.resStringError?a("",!0):(n(),i("div",S,[e("div",A,[e("div",E,[e("div",q,[e("h4",F,o(s.user.firstName)+" "+o(s.user.lastName),1),e("p",T,o(u.changeDateFormat),1),s.user.phonebook?(n(),i("p",P,o("+"+s.user.phonebook.phoneNumber.substring(0,3)+" ( "+s.user.phonebook.phoneNumber.substring(3,5)+" ) "+s.user.phonebook.phoneNumber.substring(5,8)+"-"+s.user.phonebook.phoneNumber.substring(8,10)+"-"+s.user.phonebook.phoneNumber.substring(10,12)),1)):a("",!0),s.user.email?(n(),i("p",B,o(s.user.email.email),1)):a("",!0),s.user.email?(n(),i("p",M,o(s.user.role),1)):a("",!0),G,e("h4",L,o(u.changeDateFormatCreated),1),s.resError?(n(!0),i(d,{key:3},h(s.resError,(r,p)=>(n(),i("p",J,o(p)+" : "+o(r[0]),1))),256)):a("",!0),s.resSuccess?(n(),i("p",R,o(s.resSuccess),1)):a("",!0)])])]),e("div",U,[e("div",x,[e("div",V,[e("h4",Y,[I,e("span",O,"( "+o(s.user.role)+" )",1)]),s.company?(n(),i("p",Q,o(s.company.companyName),1)):a("",!0),e("div",null,o(s.city?s.city.name_ru:"")+" "+o(s.region?s.region.name_ru:"")+" "+o(s.companyAdress?s.companyAdress.addressline1:""),1)])])]),e("div",j,[e("div",z,[e("div",H,[e("h4",K,[W,e("span",X,"( "+o(s.iqc?s.iqc.amountofIQC:0)+" )",1)]),Z,e("table",$,[ee,e("tbody",null,[(n(!0),i(d,null,h(s.iqcTransction,r=>(n(),i(d,{key:r.id},[r.value!=0?(n(),i("tr",se,[e("th",te,o(r.valueType?"+":"-")+" "+o(r.value),1),e("td",null,o(u.IQCServiceName(r.serviceName)),1),e("td",null,o(new Date(r.created_at).getFullYear()+"-"+(new Date(r.created_at).getMonth()+1)+"-"+new Date(r.created_at).getDate()+" "+new Date(r.created_at).getHours()+":"+new Date(r.created_at).getMinutes()+":"+new Date(r.created_at).getSeconds()),1)])):a("",!0)],64))),128))])])])])]),e("div",re,[e("div",oe,[e("div",ce,[e("h4",ne,[ie,e("span",ae,"( "+o(s.groups.length)+" )",1)]),(n(!0),i(d,null,h(s.groups,(r,p)=>(n(),i("p",{key:r},o(p+1)+") "+o(r),1))),128))])])]),e("div",de,[e("div",le,[e("div",ue,[e("h4",he,"Course Passed ("+o(s.courseLog.length)+")",1),e("table",_e,[pe,e("tbody",null,[(n(!0),i(d,null,h(s.courseLog,r=>(n(),i(d,{key:r.id},[r.course.getinfo?(n(),i("tr",me,[e("th",ge,o(JSON.parse(r.course.getinfo.courseTitleName).ru),1),e("td",null,o(new Date(r.updated_at).getFullYear()+"-"+(new Date(r.updated_at).getMonth()+1)+"-"+new Date(r.updated_at).getDate()+" "+new Date(r.updated_at).getHours()+":"+new Date(r.updated_at).getMinutes()+":"+new Date(r.updated_at).getSeconds()),1),e("td",null,o(u.courseProggress(r,r.course))+" %",1)])):a("",!0)],64))),128))])])])])])]))])],64)}const ke=y(v,[["render",be]]);export{ke as default};
