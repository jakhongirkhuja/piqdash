import{G as x}from"./GoBackButton.8ec57f12.js";import{c as k}from"./vue-datepicker.es.17b3f44e.js";import{h as S}from"./maska.esm.cd315c5a.js";import{u as U,r as g,m as y,a as z,b as w,i as D}from"./index.esm.b21b73c4.js";import{_ as V,r as C,o as l,c as n,f as N,a as e,F as d,e as _,d as b,t as c,w as m,p as T,n as p,v as h,a0 as B,a2 as L,a3 as R}from"./index.34e73fda.js";import"./globalFunction.5ce06618.js";const O={setup(){return{v$:U()}},directives:{maska:S},components:{GoBackButton:x,Datepicker:k},data(){return{url:"https://api.pharmiq.uz/",banner_ru:[],banner_ru_prev:null,banner_uz:[],banner_uz_prev:null,title_ru:"",title_uz:"",body_ru:"",startDate:null,endDate:null,body_uz:"",categories:[],added:!1,resError:!1,resSuccess:!1,resStringError:"",userInfo:null,monetized:0,price:null,category_id:null}},computed:{isDisabled:function(){if(this.v$.$touch(),this.v$.$error)return!0}},validations(){return{category_id:{required:g},startDate:{required:g},title_ru:{required:g,minLengthValue:y(3),maxLengthValue:z(30)},title_uz:{required:g,minLengthValue:y(3),maxLengthValue:z(30)},body_ru:{required:g,minLengthValue:y(10)},body_uz:{required:g,minLengthValue:y(10)},price:{required:w(()=>this.monetized==1),integer:D}}},methods:{uploadFilebannerRu(u){var t=u.target.files||u.dataTransfer.files;!t.length||(this.banner_ru=t[0],this.banner_ru_prev=URL.createObjectURL(t[0]))},uploadFilebannerUz(u){var t=u.target.files||u.dataTransfer.files;!t.length||(this.banner_uz=t[0],this.banner_uz_prev=URL.createObjectURL(t[0]))},submitForm(){this.v$.$touch(),this.v$.$error},checkvalue(){console.log(this.startDate)},getvalue(){console.log(this.monetized)},getCourse(){let u=this.url+"api/v1/course?id="+parseInt(this.$route.params.id),t=localStorage.getItem("token");const f={method:"GET",headers:new Headers({accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t})};fetch(u,f).then(o=>(o.status==401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="https://go.pharmiq.uz/"),o.json())).then(o=>{Object.keys(o).length==0&&this.$router.push({name:"courses.list"}),this.category_id=o.category_id,this.monetized=o.courseMonetized==1,this.price=o.coursePrice,this.startDate=o.startDate,this.endDate=o.endDate,this.title_ru=JSON.parse(o.infos.courseTitleName).ru,this.title_uz=JSON.parse(o.infos.courseTitleName).uz,this.body_ru=JSON.parse(o.infos.courseInfo).ru,this.body_uz=JSON.parse(o.infos.courseInfo).uz,this.banner_ru_prev=this.url+"files/course/"+JSON.parse(o.infos.courseBanner).ru,this.banner_uz_prev=this.url+"files/course/"+JSON.parse(o.infos.courseBanner).uz})},getCategories(){let u=this.url+"api/v1/course/category?page=1",t=localStorage.getItem("token");const f={method:"GET",headers:new Headers({accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t})};fetch(u,f).then(o=>(o.status==401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="https://go.pharmiq.uz/"),o.json())).then(o=>{this.categories=o.data})}},created(){this.userInfo=JSON.parse(localStorage.getItem("user")),this.getCourse(),this.getCategories()}},i=u=>(L("data-v-7de1a3d6"),u=u(),R(),u),Z={class:"mt-3"},E={class:"row"},j={class:"col-md-12 grid-margin stretch-card"},J={class:"card"},F={class:"card-body"},q=i(()=>e("h4",{class:"card-title"},"Show Course",-1)),G={class:"error"},M={key:1,class:"error"},P={key:2,class:"success"},A={class:"form-group row"},H={class:"col-md-12"},Y=i(()=>e("label",{class:"col-sm-3 col-form-label",for:"banner"},"Category",-1)),$=i(()=>e("option",{disabled:"",value:"0"},"Please select one",-1)),K=["selected","disabled","value"],Q={class:"form-group row"},W={class:"col-md-6"},X=i(()=>e("label",{for:"exampleInputTitleRu"},"Title (\u0420\u0423)",-1)),ee={class:"col-md-6"},re=i(()=>e("label",{for:"exampleInputTitleUZ"},"Title (UZ)",-1)),te={class:"form-group row"},oe={class:"col-md-6"},se=i(()=>e("label",{for:"exampleInputbodyRu"},"Body (\u0420\u0423)",-1)),le={class:"col-md-6"},ne=i(()=>e("label",{for:"exampleInputbodyUZ"},"Body (UZ)",-1)),ie={class:"form-group row"},ae={class:"col-md-6"},ue=i(()=>e("label",{class:"col-sm-3 col-form-label",for:"banner"},"banner (\u0420\u0423)",-1)),ce=["src"],de={class:"col-md-6"},_e=i(()=>e("label",{class:"col-sm-3 col-form-label",for:"banner"},"banner (UZ)",-1)),me=["src"],pe={class:"form-group row"},he={class:"col-md-6"},ge=i(()=>e("label",{for:"exampleInputstartRu"},"Start Date",-1)),be={class:"col-md-6"},fe=i(()=>e("label",{for:"exampleInputendUZ"},"End Date ",-1)),ve={class:"form-group row"},ye={class:"col-md-6"},ze=i(()=>e("label",{for:"exampleInputstartRu"},"Course Monetized",-1)),Ie=i(()=>e("br",null,null,-1)),xe={class:"language-switcher"},ke=i(()=>e("span",{class:"slider round"},null,-1)),Se=i(()=>e("span",{class:"select-ru"},"No",-1)),Ue=i(()=>e("span",{class:"select-uz"},"Yes",-1)),we={class:"col-md-6"},De=i(()=>e("label",{for:"exampleInputendUZ"},"Course Price ",-1));function Ve(u,t,f,o,s,v){const I=C("GoBackButton");return l(),n(d,null,[N(I),e("div",Z,[e("div",E,[e("div",j,[e("div",J,[e("div",F,[q,s.resError?(l(!0),n(d,{key:0},_(s.resError,(r,a)=>(l(),n("p",G,c(a)+" : "+c(r[0]),1))),256)):b("",!0),s.resStringError?(l(),n("p",M,c(s.resStringError),1)):b("",!0),s.resSuccess?(l(),n("p",P,c(s.resSuccess),1)):b("",!0),e("div",A,[e("div",H,[Y,m(e("select",{"onUpdate:modelValue":t[0]||(t[0]=r=>s.category_id=r),class:p(["form-control",{"border border-danger":o.v$.category_id.$errors.length>0}])},[$,(l(!0),n(d,null,_(s.categories,r=>(l(),n("option",{key:r.id,selected:s.category_id==r.id,disabled:s.category_id!=r.id,value:r.id},c(JSON.parse(r.categoryName).ru),9,K))),128))],2),[[T,s.category_id]]),(l(!0),n(d,null,_(o.v$.category_id.$errors,(r,a)=>(l(),n("small",{class:"error",key:a},c(r.$message),1))),128))])]),e("div",Q,[e("div",W,[X,m(e("input",{type:"text",class:p(["form-control",{"border border-danger":o.v$.title_ru.$errors.length>0}]),id:"exampleInputTitleRu","onUpdate:modelValue":t[1]||(t[1]=r=>s.title_ru=r)},null,2),[[h,s.title_ru]]),(l(!0),n(d,null,_(o.v$.title_ru.$errors,(r,a)=>(l(),n("small",{class:"error",key:a},c(r.$message),1))),128))]),e("div",ee,[re,m(e("input",{type:"text",class:p(["form-control",{"border border-danger":o.v$.title_uz.$errors.length>0}]),id:"exampleInputTitleUZ","onUpdate:modelValue":t[2]||(t[2]=r=>s.title_uz=r)},null,2),[[h,s.title_uz]]),(l(!0),n(d,null,_(o.v$.title_uz.$errors,(r,a)=>(l(),n("small",{class:"error",key:a},c(r.$message),1))),128))])]),e("div",te,[e("div",oe,[se,m(e("textarea",{rows:"10",type:"text",class:p(["form-control",{"border border-danger":o.v$.body_ru.$errors.length>0}]),id:"exampleInputTitleRu","onUpdate:modelValue":t[3]||(t[3]=r=>s.body_ru=r)},null,2),[[h,s.body_ru]]),(l(!0),n(d,null,_(o.v$.body_ru.$errors,(r,a)=>(l(),n("small",{class:"error",key:a},c(r.$message),1))),128))]),e("div",le,[ne,m(e("textarea",{rows:"10",type:"text",class:p(["form-control",{"border border-danger":o.v$.body_uz.$errors.length>0}]),id:"exampleInputTitleUZ","onUpdate:modelValue":t[4]||(t[4]=r=>s.body_uz=r)},null,2),[[h,s.body_uz]]),(l(!0),n(d,null,_(o.v$.body_uz.$errors,(r,a)=>(l(),n("small",{class:"error",key:a},c(r.$message),1))),128))])]),e("div",ie,[e("div",ae,[ue,s.banner_ru_prev?(l(),n("img",{key:0,src:s.banner_ru_prev,class:"image_prev"},null,8,ce)):b("",!0),e("input",{type:"file",id:"banner",onChange:t[5]||(t[5]=r=>v.uploadFilebannerRu(r)),accept:"image/*",class:"form-control"},null,32)]),e("div",de,[_e,s.banner_uz_prev?(l(),n("img",{key:0,src:s.banner_uz_prev,class:"image_prev"},null,8,me)):b("",!0),e("input",{type:"file",id:"banner",onChange:t[6]||(t[6]=r=>v.uploadFilebannerUz(r)),accept:"image/*",class:"form-control"},null,32)])]),e("div",pe,[e("div",he,[ge,m(e("input",{type:"date",class:p(["form-control",{"border border-danger":o.v$.startDate.$errors.length>0}]),id:"exampleInputstartRu","onUpdate:modelValue":t[7]||(t[7]=r=>s.startDate=r)},null,2),[[h,s.startDate]]),(l(!0),n(d,null,_(o.v$.startDate.$errors,(r,a)=>(l(),n("small",{class:"error",key:a},c(r.$message),1))),128))]),e("div",be,[fe,m(e("input",{type:"date",class:"form-control",id:"exampleInputendUZ","onUpdate:modelValue":t[8]||(t[8]=r=>s.endDate=r)},null,512),[[h,s.endDate]])])]),e("div",ve,[e("div",ye,[ze,Ie,e("label",xe,[m(e("input",{onChange:t[9]||(t[9]=(...r)=>v.getvalue&&v.getvalue(...r)),type:"checkbox","onUpdate:modelValue":t[10]||(t[10]=r=>s.monetized=r)},null,544),[[B,s.monetized]]),ke,Se,Ue])]),e("div",we,[De,m(e("input",{type:"number",class:p(["form-control",{"border border-danger":o.v$.price.$errors.length>0}]),id:"exampleInputendUZ","onUpdate:modelValue":t[11]||(t[11]=r=>s.price=r)},null,2),[[h,s.price]]),(l(!0),n(d,null,_(o.v$.price.$errors,(r,a)=>(l(),n("small",{class:"error",key:a},c(r.$message),1))),128))])])])])])])])],64)}const Oe=V(O,[["render",Ve],["__scopeId","data-v-7de1a3d6"]]);export{Oe as default};
